<div class="col-lg-12">
    <h2 class="text-center"><b>Lịch sử đặt hàng</b></h2>
</div>
<div class="col-lg-12">
    <ul class="list-group">
        {{#if errormessage}}
            <div class="text-center">
                <h1 class="message-error">Đã có lỗi xảy ra!</h1>
                <div class="message-error">{{errormessage}}</div>
            </div>
        {{else}}
            {{#if orders}}
                {{#if orders.pending}}
                    <h3>Đang xử lý</h3>
                    <table class="table table-striped table-bordered">
                        <thead style="font-size: 20px">
                        <tr>
                            <th>Ngày đặt hàng</th>
                            <th>Thời gian giao hàng</th>
                            <th>Hình thức thanh toán</th>
                            <th>Địa chỉ giao hàng</th>
                            <th>Tên sản phẩm</th>
                            <th>Đơn giá</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each orders.pending}}
                            <tr>
                                <td>{{formatDate this.createDate 'DD/MM/YYYY'}}</td>
                                <td>{{formatDate this.deliveryDate 'DD/MM/YYYY'}}</td>
                                <td>{{this.paymentMethod}}</td>
                                <td>{{this.address}}</td>
                                <td><a href="/product/{{this.product.id}}">{{this.product.name}}</a></td>
                                <td>{{formatAmount this.product.price}} VNĐ</td>
                                <td>{{this.amount}}</td>
                                <td>{{formatAmount this.total}} VNĐ</td>
                            </tr>
                        {{/each}}
                        </tbody>
                    </table>
                {{/if}}
                {{#if orders.fail}}
                    <h3>Thất bại</h3>
                    <table class="table table-striped table-bordered">
                        <thead style="font-size: 20px">
                        <tr>
                            <th>Ngày đặt hàng</th>
                            <th>Thời gian giao hàng</th>
                            <th>Hình thức thanh toán</th>
                            <th>Địa chỉ giao hàng</th>
                            <th>Tên sản phẩm</th>
                            <th>Đơn giá</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each orders.fail}}
                            <tr>
                                <td>{{formatDate this.createDate 'DD/MM/YYYY'}}</td>
                                <td>{{formatDate this.deliveryDate 'DD/MM/YYYY'}}</td>
                                <td>{{this.paymentMethod}}</td>
                                <td>{{this.address}}</td>
                                <td><a href="/product/{{this.product.id}}">{{this.product.name}}</a></td>
                                <td>{{formatAmount this.product.price}} VNĐ</td>
                                <td>{{this.amount}}</td>
                                <td>{{formatAmount this.total}} VNĐ</td>
                            </tr>
                        {{/each}}
                        </tbody>
                    </table>
                {{/if}}
                {{#if orders.complete}}
                    <h3>Hoàn thành</h3>
                    <table class="table table-striped table-bordered">
                        <thead style="font-size: 20px">
                        <tr>
                            <th>Ngày đặt hàng</th>
                            <th>Thời gian giao hàng</th>
                            <th>Hình thức thanh toán</th>
                            <th>Địa chỉ giao hàng</th>
                            <th>Tên sản phẩm</th>
                            <th>Đơn giá</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each orders.complete}}
                            <tr>
                                <td>{{formatDate this.createDate 'DD/MM/YYYY'}}</td>
                                <td>{{formatDate this.deliveryDate 'DD/MM/YYYY'}}</td>
                                <td>{{this.paymentMethod}}</td>
                                <td>{{this.address}}</td>
                                <td><a href="/product/{{this.product.id}}">{{this.product.name}}</a></td>
                                <td>{{formatAmount this.product.price}} VNĐ</td>
                                <td>{{this.amount}}</td>
                                <td>{{formatAmount this.total}} VNĐ</td>
                            </tr>
                        {{/each}}
                        </tbody>
                    </table>
                {{/if}}
                {{#if orders.abort}}
                    <h3>Đã hủy</h3>
                    <table class="table table-striped table-bordered">
                        <thead style="font-size: 20px">
                        <tr>
                            <th>Ngày đặt hàng</th>
                            <th>Thời gian giao hàng</th>
                            <th>Hình thức thanh toán</th>
                            <th>Địa chỉ giao hàng</th>
                            <th>Tên sản phẩm</th>
                            <th>Đơn giá</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each orders.abort}}
                            <tr>
                                <td>{{formatDate this.createDate 'DD/MM/YYYY'}}</td>
                                <td>{{formatDate this.deliveryDate 'DD/MM/YYYY'}}</td>
                                <td>{{this.paymentMethod}}</td>
                                <td>{{this.address}}</td>
                                <td><a href="/product/{{this.product.id}}">{{this.product.name}}</a></td>
                                <td>{{formatAmount this.product.price}} VNĐ</td>
                                <td>{{this.amount}}</td>
                                <td>{{formatAmount this.total}} VNĐ</td>
                            </tr>
                        {{/each}}
                        </tbody>
                    </table>
                {{/if}}

            {{else}}
                <div class="col-md-12">
                    <p class="text-danger text-center">Không tìm thấy lịch sử đặt hàng</p>
                </div>
            {{/if}}
        {{/if}}
    </ul>
</div>
